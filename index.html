<!DOCTYPE html>
<html>
<head>
  <title>Gerador de VÃ­deos com IA</title>
  <meta charset="utf-8">
</head>
<body>
  <h1>Gerar VÃ­deo com Heygen</h1>
  <textarea id="texto" rows="4" cols="50" placeholder="Digite o texto para o avatar dizer..."></textarea><br><br>
  <button onclick="gerar()">Gerar VÃ­deo</button>
  <p id="status"></p>
  <a id="link" href="#" target="_blank" style="display:none">ðŸ“¥ Baixar VÃ­deo</a>

  <script>
    async function gerar() {
      const texto = document.getElementById("texto").value;
      document.getElementById("status").innerText = "Gerando vÃ­deo, aguarde...";
      document.getElementById("link").style.display = "none";

      const resposta = await fetch("http://127.0.0.1:8000/gerar-video", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ texto })
      });

      const data = await resposta.json();

      if (data.video_url) {
        document.getElementById("status").innerText = "VÃ­deo pronto!";
        document.getElementById("link").href = data.video_url;
        document.getElementById("link").style.display = "block";
      } else {
        document.getElementById("status").innerText = "Erro: " + data.erro;
      }
    }
  </script>
</body>
</html>
